<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Composition · AlgebraicMetabolism.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">AlgebraicMetabolism.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">AlgebraicMetabolism.jl</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../literate_example/">AlgebraicMetabolism Package Demo</a></li><li><a class="tocitem" href="../../composition/">Composition</a></li><li><a class="tocitem" href="../../pullbacks/">Stratification</a></li><li><a class="tocitem" href="../literate_example/">S-System Module Demo</a></li><li class="is-active"><a class="tocitem" href>Composition</a></li><li><a class="tocitem" href="../pullbacks/">Stratification</a></li></ul></li><li><a class="tocitem" href="../../../api/">Library Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Composition</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Composition</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/AlgebraicJulia/AlgebraicMetabolism.jl/blob/main/docs/literate/SSystems/composition.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Composition"><a class="docs-heading-anchor" href="#Composition">Composition</a><a id="Composition-1"></a><a class="docs-heading-anchor-permalink" href="#Composition" title="Permalink"></a></h1><p>First we want to load our package with <code>using</code>, we will also want some Catlab utilities.</p><pre><code class="language-julia hljs">using AlgebraicMetabolism
using AlgebraicMetabolism.SSystems
using Catlab
using Catlab.ACSets
using Catlab.CategoricalAlgebra
using Catlab.CategoricalAlgebra.CSets
using Catlab.Graphics
using Catlab.Graphics.Graphviz
using Catlab.Programs
using Catlab.Programs.RelationalPrograms
draw(uwd::RelationDiagram) = to_graphviz(uwd,box_labels=:name, junction_labels=:variable)
draw(m::MetabolicNet) = to_graphviz(default_attrs(System, m))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">draw (generic function with 2 methods)</code></pre><p>Our model is going to be the very basic equation with 2 states and 3 edges.</p><pre><code class="language-julia hljs">M = @acset MetabolicNet begin
  V = 2
  E₁ = 3
  E₂ = 3

  src₁ = [1,2,1]
  tgt₁ = [1,2,2]

  src₂ = [1,2,1]
  tgt₂ = [1,2,2]
end
draw(M)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="300pt" height="186pt"
 viewBox="0.00 0.00 299.58 185.79" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 181.79)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-181.79 295.58,-181.79 295.58,4 -4,4"/>
<!-- n1 -->
<g id="node1" class="node">
<title>n1</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="55.9" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="55.9" y="-52.2" font-family="Times,serif" font-size="14.00">X1[α1:β1]</text>
</g>
<!-- n1&%2345;&gt;n1 -->
<g id="edge1" class="edge">
<title>n1&%2345;&gt;n1</title>
<path fill="none" stroke="black" d="M48.01,-111.32C48.93,-122.12 51.56,-129.79 55.9,-129.79 58.68,-129.79 60.75,-126.64 62.13,-121.54"/>
<polygon fill="black" stroke="black" points="65.64,-121.75 63.78,-111.32 58.73,-120.64 65.64,-121.75"/>
<text text-anchor="middle" x="55.9" y="-133.59" font-family="Times,serif" font-size="14.00">g1,1</text>
</g>
<!-- n1&%2345;&gt;n1 -->
<g id="edge4" class="edge">
<title>n1&%2345;&gt;n1</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M39.46,-109.7C38.73,-130.5 44.21,-147.79 55.9,-147.79 65.57,-147.79 70.99,-135.93 72.16,-120.04"/>
<polygon fill="black" stroke="black" points="75.66,-119.76 72.33,-109.7 68.66,-119.64 75.66,-119.76"/>
<text text-anchor="middle" x="55.9" y="-151.59" font-family="Times,serif" font-size="14.00">h1,1</text>
</g>
<!-- n2 -->
<g id="node2" class="node">
<title>n2</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="235.69" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="235.69" y="-52.2" font-family="Times,serif" font-size="14.00">X2[α2:β2]</text>
</g>
<!-- n1&%2345;&gt;n2 -->
<g id="edge3" class="edge">
<title>n1&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M112.17,-55.9C130.41,-55.9 150.85,-55.9 169.74,-55.9"/>
<polygon fill="black" stroke="black" points="169.75,-59.4 179.75,-55.9 169.75,-52.4 169.75,-59.4"/>
<text text-anchor="middle" x="145.79" y="-59.7" font-family="Times,serif" font-size="14.00">g1,2</text>
</g>
<!-- n1&%2345;&gt;n2 -->
<g id="edge6" class="edge">
<title>n1&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M109.93,-40.4C116.57,-38.96 123.3,-37.73 129.79,-36.9 143.53,-35.13 158.2,-36.03 172.08,-38.17"/>
<polygon fill="black" stroke="black" points="171.57,-41.63 182.03,-39.93 172.79,-34.74 171.57,-41.63"/>
<text text-anchor="middle" x="145.79" y="-40.7" font-family="Times,serif" font-size="14.00">h1,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge2" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M227.8,-111.32C228.72,-122.12 231.35,-129.79 235.69,-129.79 238.47,-129.79 240.54,-126.64 241.92,-121.54"/>
<polygon fill="black" stroke="black" points="245.43,-121.75 243.57,-111.32 238.52,-120.64 245.43,-121.75"/>
<text text-anchor="middle" x="235.69" y="-133.59" font-family="Times,serif" font-size="14.00">g2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge5" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M219.25,-109.7C218.52,-130.5 224,-147.79 235.69,-147.79 245.36,-147.79 250.78,-135.93 251.95,-120.04"/>
<polygon fill="black" stroke="black" points="255.45,-119.76 252.12,-109.7 248.45,-119.64 255.45,-119.76"/>
<text text-anchor="middle" x="235.69" y="-151.59" font-family="Times,serif" font-size="14.00">h2,2</text>
</g>
</g>
</svg>
'/><p>We formulate an open version of this model by declaring an interface to it. The interface is the first and second variable as the two exterior ports of the model.</p><pre><code class="language-julia hljs">Mₒ = OpenMetabolicNet(M,FinFunction([1],2),FinFunction([2],2));</code></pre><p>The composition pattern below says to take two systems and compose them so that the second interface of the first system is the first interface of the second system. Composition patterns have a tabular representation by default, because they are ACSets.</p><pre><code class="language-julia hljs">d = @relation (x,z) begin
  f(x,y)
  g(y,z)
end</code></pre><div class="c-set">
<span class="c-set-summary">Catlab.Programs.RelationalPrograms.UntypedUnnamedRelationDiagram{Symbol, Symbol} with elements Box = 1:2, Port = 1:4, OuterPort = 1:2, Junction = 1:3, Name = 1:0, VarName = 1:0</span>
<table>
  <thead>
    <tr class = "header headerLastRow">
      <th class = "rowNumber" style = "font-weight: bold; text-align: right;">Box</th>
      <th style = "text-align: right;">name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td>
      <td style = "text-align: right;">f</td>
    </tr>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td>
      <td style = "text-align: right;">g</td>
    </tr>
  </tbody>
</table>
<table>
  <thead>
    <tr class = "header headerLastRow">
      <th class = "rowNumber" style = "font-weight: bold; text-align: right;">Port</th>
      <th style = "text-align: right;">box</th>
      <th style = "text-align: right;">junction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td>
      <td style = "text-align: right;">1</td>
      <td style = "text-align: right;">1</td>
    </tr>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td>
      <td style = "text-align: right;">1</td>
      <td style = "text-align: right;">3</td>
    </tr>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td>
      <td style = "text-align: right;">2</td>
      <td style = "text-align: right;">3</td>
    </tr>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td>
      <td style = "text-align: right;">2</td>
      <td style = "text-align: right;">2</td>
    </tr>
  </tbody>
</table>
<table>
  <thead>
    <tr class = "header headerLastRow">
      <th class = "rowNumber" style = "font-weight: bold; text-align: right;">OuterPort</th>
      <th style = "text-align: right;">outer_junction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td>
      <td style = "text-align: right;">1</td>
    </tr>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td>
      <td style = "text-align: right;">2</td>
    </tr>
  </tbody>
</table>
<table>
  <thead>
    <tr class = "header headerLastRow">
      <th class = "rowNumber" style = "font-weight: bold; text-align: right;">Junction</th>
      <th style = "text-align: right;">variable</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td>
      <td style = "text-align: right;">x</td>
    </tr>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td>
      <td style = "text-align: right;">z</td>
    </tr>
    <tr>
      <td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td>
      <td style = "text-align: right;">y</td>
    </tr>
  </tbody>
</table>
</div>
<p>We can draw the composition pattern that we are going to use.</p><pre><code class="language-julia hljs">draw(d)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="54pt" height="224pt"
 viewBox="0.00 0.00 53.87 223.70" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 219.7)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-219.7 49.87,-219.7 49.87,4 -4,4"/>
<!-- n1 -->
<g id="box1" class="node">
<title>n1</title>
<ellipse fill="none" stroke="black" cx="18" cy="-71.98" rx="18" ry="18"/>
<text text-anchor="middle" x="18" y="-68.28" font-family="Serif" font-size="14.00">f</text>
</g>
<!-- n5 -->
<!-- junction -->
<g id="junction1" class="node">
<title>n5</title>
<ellipse fill="black" stroke="black" cx="22.21" cy="-36.04" rx="2.5" ry="2.5"/>
<text text-anchor="middle" x="15.21" y="-42.34" font-family="Serif" font-size="14.00">x</text>
</g>
<!-- n1&%2345;&%2345;n5 -->
<g id="edge1" class="edge">
<title>n1&%2345;&%2345;n5</title>
<path fill="none" stroke="black" d="M20.1,-54.01C20.8,-48.12 21.49,-42.22 21.88,-38.87"/>
</g>
<!-- n7 -->
<!-- junction -->
<g id="junction3" class="node">
<title>n7</title>
<ellipse fill="black" stroke="black" cx="22.38" cy="-107.91" rx="2.5" ry="2.5"/>
<text text-anchor="middle" x="15.38" y="-114.21" font-family="Serif" font-size="14.00">y</text>
</g>
<!-- n1&%2345;&%2345;n7 -->
<g id="edge5" class="edge">
<title>n1&%2345;&%2345;n7</title>
<path fill="none" stroke="black" d="M20.19,-89.94C20.91,-95.84 21.63,-101.73 22.04,-105.09"/>
</g>
<!-- n2 -->
<g id="box2" class="node">
<title>n2</title>
<ellipse fill="none" stroke="black" cx="27.87" cy="-143.68" rx="18" ry="18"/>
<text text-anchor="middle" x="27.87" y="-139.98" font-family="Serif" font-size="14.00">g</text>
</g>
<!-- n6 -->
<!-- junction -->
<g id="junction2" class="node">
<title>n6</title>
<ellipse fill="black" stroke="black" cx="25.81" cy="-179.79" rx="2.5" ry="2.5"/>
<text text-anchor="middle" x="19.31" y="-186.09" font-family="Serif" font-size="14.00">z</text>
</g>
<!-- n2&%2345;&%2345;n6 -->
<g id="edge3" class="edge">
<title>n2&%2345;&%2345;n6</title>
<path fill="none" stroke="black" d="M26.84,-161.73C26.5,-167.66 26.16,-173.58 25.97,-176.95"/>
</g>
<!-- n2&%2345;&%2345;n7 -->
<g id="edge6" class="edge">
<title>n2&%2345;&%2345;n7</title>
<path fill="none" stroke="black" d="M25.13,-125.79C24.22,-119.92 23.32,-114.05 22.81,-110.71"/>
</g>
<!-- n3 -->
<!-- n3&%2345;&%2345;n5 -->
<g id="edge2" class="edge">
<title>n3&%2345;&%2345;n5</title>
<path fill="none" stroke="black" d="M28.29,-1.38C27.51,-5.83 23.98,-25.93 22.69,-33.31"/>
</g>
<!-- n4 -->
<!-- n4&%2345;&%2345;n6 -->
<g id="edge4" class="edge">
<title>n4&%2345;&%2345;n6</title>
<path fill="none" stroke="black" d="M18.76,-214.33C19.66,-209.9 23.75,-189.86 25.25,-182.51"/>
</g>
</g>
</svg>
'/><p>Then when we apply this composition pattern to two copies of our model, we get the following composite model.</p><pre><code class="language-julia hljs">M₂ = oapply(d,[Mₒ,Mₒ])
draw(apex(M₂))</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="479pt" height="252pt"
 viewBox="0.00 0.00 479.37 251.79" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 247.79)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-247.79 475.37,-247.79 475.37,4 -4,4"/>
<!-- n1 -->
<g id="node1" class="node">
<title>n1</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="55.9" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="55.9" y="-52.2" font-family="Times,serif" font-size="14.00">X1[α1:β1]</text>
</g>
<!-- n1&%2345;&gt;n1 -->
<g id="edge1" class="edge">
<title>n1&%2345;&gt;n1</title>
<path fill="none" stroke="black" d="M48.01,-111.32C48.93,-122.12 51.56,-129.79 55.9,-129.79 58.68,-129.79 60.75,-126.64 62.13,-121.54"/>
<polygon fill="black" stroke="black" points="65.64,-121.75 63.78,-111.32 58.73,-120.64 65.64,-121.75"/>
<text text-anchor="middle" x="55.9" y="-133.59" font-family="Times,serif" font-size="14.00">g1,1</text>
</g>
<!-- n1&%2345;&gt;n1 -->
<g id="edge7" class="edge">
<title>n1&%2345;&gt;n1</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M39.46,-109.7C38.73,-130.5 44.21,-147.79 55.9,-147.79 65.57,-147.79 70.99,-135.93 72.16,-120.04"/>
<polygon fill="black" stroke="black" points="75.66,-119.76 72.33,-109.7 68.66,-119.64 75.66,-119.76"/>
<text text-anchor="middle" x="55.9" y="-151.59" font-family="Times,serif" font-size="14.00">h1,1</text>
</g>
<!-- n2 -->
<g id="node2" class="node">
<title>n2</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="235.69" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="235.69" y="-52.2" font-family="Times,serif" font-size="14.00">X2[α2:β2]</text>
</g>
<!-- n1&%2345;&gt;n2 -->
<g id="edge3" class="edge">
<title>n1&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M112.17,-55.9C130.41,-55.9 150.85,-55.9 169.74,-55.9"/>
<polygon fill="black" stroke="black" points="169.75,-59.4 179.75,-55.9 169.75,-52.4 169.75,-59.4"/>
<text text-anchor="middle" x="145.79" y="-59.7" font-family="Times,serif" font-size="14.00">g1,2</text>
</g>
<!-- n1&%2345;&gt;n2 -->
<g id="edge9" class="edge">
<title>n1&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M109.93,-40.4C116.57,-38.96 123.3,-37.73 129.79,-36.9 143.53,-35.13 158.2,-36.03 172.08,-38.17"/>
<polygon fill="black" stroke="black" points="171.57,-41.63 182.03,-39.93 172.79,-34.74 171.57,-41.63"/>
<text text-anchor="middle" x="145.79" y="-40.7" font-family="Times,serif" font-size="14.00">h1,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge2" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M231.77,-111.96C232.25,-122.42 233.56,-129.79 235.69,-129.79 237.01,-129.79 238.02,-126.91 238.71,-122.2"/>
<polygon fill="black" stroke="black" points="242.22,-122.23 239.6,-111.96 235.25,-121.62 242.22,-122.23"/>
<text text-anchor="middle" x="235.69" y="-133.59" font-family="Times,serif" font-size="14.00">g2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge4" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M227.44,-111.52C227.27,-131.5 230.01,-147.79 235.69,-147.79 240.34,-147.79 243.02,-136.83 243.74,-121.86"/>
<polygon fill="black" stroke="black" points="247.24,-121.59 243.93,-111.52 240.25,-121.46 247.24,-121.59"/>
<text text-anchor="middle" x="235.69" y="-151.59" font-family="Times,serif" font-size="14.00">g2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge8" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M223.78,-110.74C221.86,-139.62 225.82,-165.79 235.69,-165.79 244.39,-165.79 248.5,-145.39 248.02,-120.75"/>
<polygon fill="black" stroke="black" points="251.52,-120.58 247.59,-110.74 244.53,-120.89 251.52,-120.58"/>
<text text-anchor="middle" x="235.69" y="-169.59" font-family="Times,serif" font-size="14.00">h2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge10" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M220.8,-109.78C216.28,-147.07 221.25,-183.79 235.69,-183.79 248.83,-183.79 254.12,-153.37 251.56,-119.79"/>
<polygon fill="black" stroke="black" points="255.04,-119.39 250.57,-109.78 248.07,-120.07 255.04,-119.39"/>
<text text-anchor="middle" x="235.69" y="-187.59" font-family="Times,serif" font-size="14.00">h2,2</text>
</g>
<!-- n3 -->
<g id="node3" class="node">
<title>n3</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="415.48" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="415.48" y="-52.2" font-family="Times,serif" font-size="14.00">X3[α3:β3]</text>
</g>
<!-- n2&%2345;&gt;n3 -->
<g id="edge6" class="edge">
<title>n2&%2345;&gt;n3</title>
<path fill="none" stroke="black" d="M291.96,-55.9C310.2,-55.9 330.64,-55.9 349.53,-55.9"/>
<polygon fill="black" stroke="black" points="349.54,-59.4 359.54,-55.9 349.54,-52.4 349.54,-59.4"/>
<text text-anchor="middle" x="325.58" y="-59.7" font-family="Times,serif" font-size="14.00">g2,3</text>
</g>
<!-- n2&%2345;&gt;n3 -->
<g id="edge12" class="edge">
<title>n2&%2345;&gt;n3</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M289.72,-40.4C296.36,-38.96 303.09,-37.73 309.58,-36.9 323.32,-35.13 337.99,-36.03 351.87,-38.17"/>
<polygon fill="black" stroke="black" points="351.36,-41.63 361.82,-39.93 352.58,-34.74 351.36,-41.63"/>
<text text-anchor="middle" x="325.58" y="-40.7" font-family="Times,serif" font-size="14.00">h2,3</text>
</g>
<!-- n3&%2345;&gt;n3 -->
<g id="edge5" class="edge">
<title>n3&%2345;&gt;n3</title>
<path fill="none" stroke="black" d="M407.59,-111.32C408.51,-122.12 411.14,-129.79 415.48,-129.79 418.26,-129.79 420.33,-126.64 421.71,-121.54"/>
<polygon fill="black" stroke="black" points="425.22,-121.75 423.36,-111.32 418.31,-120.64 425.22,-121.75"/>
<text text-anchor="middle" x="415.48" y="-133.59" font-family="Times,serif" font-size="14.00">g3,3</text>
</g>
<!-- n3&%2345;&gt;n3 -->
<g id="edge11" class="edge">
<title>n3&%2345;&gt;n3</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M399.04,-109.7C398.31,-130.5 403.79,-147.79 415.48,-147.79 425.15,-147.79 430.57,-135.93 431.74,-120.04"/>
<polygon fill="black" stroke="black" points="435.24,-119.76 431.91,-109.7 428.24,-119.64 435.24,-119.76"/>
<text text-anchor="middle" x="415.48" y="-151.59" font-family="Times,serif" font-size="14.00">h3,3</text>
</g>
</g>
</svg>
'/><p>By reversing the interface ordering on the system, we can change the composite.</p><pre><code class="language-julia hljs">Mₒꜛ = OpenMetabolicNet(M, FinFunction([2],2), FinFunction([1],2))
M₂ꜛ = oapply(d,[Mₒ,Mₒꜛ])
draw(apex(M₂))</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="479pt" height="252pt"
 viewBox="0.00 0.00 479.37 251.79" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 247.79)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-247.79 475.37,-247.79 475.37,4 -4,4"/>
<!-- n1 -->
<g id="node1" class="node">
<title>n1</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="55.9" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="55.9" y="-52.2" font-family="Times,serif" font-size="14.00">X1[α1:β1]</text>
</g>
<!-- n1&%2345;&gt;n1 -->
<g id="edge1" class="edge">
<title>n1&%2345;&gt;n1</title>
<path fill="none" stroke="black" d="M48.01,-111.32C48.93,-122.12 51.56,-129.79 55.9,-129.79 58.68,-129.79 60.75,-126.64 62.13,-121.54"/>
<polygon fill="black" stroke="black" points="65.64,-121.75 63.78,-111.32 58.73,-120.64 65.64,-121.75"/>
<text text-anchor="middle" x="55.9" y="-133.59" font-family="Times,serif" font-size="14.00">g1,1</text>
</g>
<!-- n1&%2345;&gt;n1 -->
<g id="edge7" class="edge">
<title>n1&%2345;&gt;n1</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M39.46,-109.7C38.73,-130.5 44.21,-147.79 55.9,-147.79 65.57,-147.79 70.99,-135.93 72.16,-120.04"/>
<polygon fill="black" stroke="black" points="75.66,-119.76 72.33,-109.7 68.66,-119.64 75.66,-119.76"/>
<text text-anchor="middle" x="55.9" y="-151.59" font-family="Times,serif" font-size="14.00">h1,1</text>
</g>
<!-- n2 -->
<g id="node2" class="node">
<title>n2</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="235.69" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="235.69" y="-52.2" font-family="Times,serif" font-size="14.00">X2[α2:β2]</text>
</g>
<!-- n1&%2345;&gt;n2 -->
<g id="edge3" class="edge">
<title>n1&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M112.17,-55.9C130.41,-55.9 150.85,-55.9 169.74,-55.9"/>
<polygon fill="black" stroke="black" points="169.75,-59.4 179.75,-55.9 169.75,-52.4 169.75,-59.4"/>
<text text-anchor="middle" x="145.79" y="-59.7" font-family="Times,serif" font-size="14.00">g1,2</text>
</g>
<!-- n1&%2345;&gt;n2 -->
<g id="edge9" class="edge">
<title>n1&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M109.93,-40.4C116.57,-38.96 123.3,-37.73 129.79,-36.9 143.53,-35.13 158.2,-36.03 172.08,-38.17"/>
<polygon fill="black" stroke="black" points="171.57,-41.63 182.03,-39.93 172.79,-34.74 171.57,-41.63"/>
<text text-anchor="middle" x="145.79" y="-40.7" font-family="Times,serif" font-size="14.00">h1,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge2" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M231.77,-111.96C232.25,-122.42 233.56,-129.79 235.69,-129.79 237.01,-129.79 238.02,-126.91 238.71,-122.2"/>
<polygon fill="black" stroke="black" points="242.22,-122.23 239.6,-111.96 235.25,-121.62 242.22,-122.23"/>
<text text-anchor="middle" x="235.69" y="-133.59" font-family="Times,serif" font-size="14.00">g2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge4" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M227.44,-111.52C227.27,-131.5 230.01,-147.79 235.69,-147.79 240.34,-147.79 243.02,-136.83 243.74,-121.86"/>
<polygon fill="black" stroke="black" points="247.24,-121.59 243.93,-111.52 240.25,-121.46 247.24,-121.59"/>
<text text-anchor="middle" x="235.69" y="-151.59" font-family="Times,serif" font-size="14.00">g2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge8" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M223.78,-110.74C221.86,-139.62 225.82,-165.79 235.69,-165.79 244.39,-165.79 248.5,-145.39 248.02,-120.75"/>
<polygon fill="black" stroke="black" points="251.52,-120.58 247.59,-110.74 244.53,-120.89 251.52,-120.58"/>
<text text-anchor="middle" x="235.69" y="-169.59" font-family="Times,serif" font-size="14.00">h2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge10" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M220.8,-109.78C216.28,-147.07 221.25,-183.79 235.69,-183.79 248.83,-183.79 254.12,-153.37 251.56,-119.79"/>
<polygon fill="black" stroke="black" points="255.04,-119.39 250.57,-109.78 248.07,-120.07 255.04,-119.39"/>
<text text-anchor="middle" x="235.69" y="-187.59" font-family="Times,serif" font-size="14.00">h2,2</text>
</g>
<!-- n3 -->
<g id="node3" class="node">
<title>n3</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="415.48" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="415.48" y="-52.2" font-family="Times,serif" font-size="14.00">X3[α3:β3]</text>
</g>
<!-- n2&%2345;&gt;n3 -->
<g id="edge6" class="edge">
<title>n2&%2345;&gt;n3</title>
<path fill="none" stroke="black" d="M291.96,-55.9C310.2,-55.9 330.64,-55.9 349.53,-55.9"/>
<polygon fill="black" stroke="black" points="349.54,-59.4 359.54,-55.9 349.54,-52.4 349.54,-59.4"/>
<text text-anchor="middle" x="325.58" y="-59.7" font-family="Times,serif" font-size="14.00">g2,3</text>
</g>
<!-- n2&%2345;&gt;n3 -->
<g id="edge12" class="edge">
<title>n2&%2345;&gt;n3</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M289.72,-40.4C296.36,-38.96 303.09,-37.73 309.58,-36.9 323.32,-35.13 337.99,-36.03 351.87,-38.17"/>
<polygon fill="black" stroke="black" points="351.36,-41.63 361.82,-39.93 352.58,-34.74 351.36,-41.63"/>
<text text-anchor="middle" x="325.58" y="-40.7" font-family="Times,serif" font-size="14.00">h2,3</text>
</g>
<!-- n3&%2345;&gt;n3 -->
<g id="edge5" class="edge">
<title>n3&%2345;&gt;n3</title>
<path fill="none" stroke="black" d="M407.59,-111.32C408.51,-122.12 411.14,-129.79 415.48,-129.79 418.26,-129.79 420.33,-126.64 421.71,-121.54"/>
<polygon fill="black" stroke="black" points="425.22,-121.75 423.36,-111.32 418.31,-120.64 425.22,-121.75"/>
<text text-anchor="middle" x="415.48" y="-133.59" font-family="Times,serif" font-size="14.00">g3,3</text>
</g>
<!-- n3&%2345;&gt;n3 -->
<g id="edge11" class="edge">
<title>n3&%2345;&gt;n3</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M399.04,-109.7C398.31,-130.5 403.79,-147.79 415.48,-147.79 425.15,-147.79 430.57,-135.93 431.74,-120.04"/>
<polygon fill="black" stroke="black" points="435.24,-119.76 431.91,-109.7 428.24,-119.64 435.24,-119.76"/>
<text text-anchor="middle" x="415.48" y="-151.59" font-family="Times,serif" font-size="14.00">h3,3</text>
</g>
</g>
</svg>
'/><p>We can also take the output of a composition and plug it in as the input to another level of composition. This let us build models hierarchically.</p><pre><code class="language-julia hljs">M₄ = oapply(d,[M₂ꜛ, Mₒ])
draw(apex(M₄))</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="300pt" height="481pt"
 viewBox="0.00 0.00 299.58 480.79" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 476.79)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-476.79 295.58,-476.79 295.58,4 -4,4"/>
<!-- n1 -->
<g id="node1" class="node">
<title>n1</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="55.9" cy="-317.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="55.9" y="-314.2" font-family="Times,serif" font-size="14.00">X1[α1:β1]</text>
</g>
<!-- n1&%2345;&gt;n1 -->
<g id="edge1" class="edge">
<title>n1&%2345;&gt;n1</title>
<path fill="none" stroke="black" d="M48.01,-373.32C48.93,-384.12 51.56,-391.79 55.9,-391.79 58.68,-391.79 60.75,-388.64 62.13,-383.54"/>
<polygon fill="black" stroke="black" points="65.64,-383.75 63.78,-373.32 58.73,-382.64 65.64,-383.75"/>
<text text-anchor="middle" x="55.9" y="-395.59" font-family="Times,serif" font-size="14.00">g1,1</text>
</g>
<!-- n1&%2345;&gt;n1 -->
<g id="edge10" class="edge">
<title>n1&%2345;&gt;n1</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M39.46,-371.7C38.73,-392.5 44.21,-409.79 55.9,-409.79 65.57,-409.79 70.99,-397.93 72.16,-382.04"/>
<polygon fill="black" stroke="black" points="75.66,-381.76 72.33,-371.7 68.66,-381.64 75.66,-381.76"/>
<text text-anchor="middle" x="55.9" y="-413.59" font-family="Times,serif" font-size="14.00">h1,1</text>
</g>
<!-- n2 -->
<g id="node2" class="node">
<title>n2</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="235.69" cy="-284.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="235.69" y="-281.2" font-family="Times,serif" font-size="14.00">X2[α2:β2]</text>
</g>
<!-- n1&%2345;&gt;n2 -->
<g id="edge3" class="edge">
<title>n1&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M111.2,-307.81C129.9,-304.34 151.02,-300.43 170.43,-296.82"/>
<polygon fill="black" stroke="black" points="171.21,-300.24 180.4,-294.97 169.93,-293.35 171.21,-300.24"/>
<text text-anchor="middle" x="145.79" y="-307.7" font-family="Times,serif" font-size="14.00">g1,2</text>
</g>
<!-- n1&%2345;&gt;n2 -->
<g id="edge12" class="edge">
<title>n1&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M103.76,-288.57C112.15,-284.57 121.02,-281.09 129.79,-278.9 142.69,-275.66 156.75,-274.76 170.27,-275.12"/>
<polygon fill="black" stroke="black" points="170.31,-278.62 180.47,-275.62 170.65,-271.63 170.31,-278.62"/>
<text text-anchor="middle" x="145.79" y="-282.7" font-family="Times,serif" font-size="14.00">h1,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge2" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M231.77,-340.96C232.25,-351.42 233.56,-358.79 235.69,-358.79 237.01,-358.79 238.02,-355.91 238.71,-351.2"/>
<polygon fill="black" stroke="black" points="242.22,-351.23 239.6,-340.96 235.25,-350.62 242.22,-351.23"/>
<text text-anchor="middle" x="235.69" y="-362.59" font-family="Times,serif" font-size="14.00">g2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge5" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M227.44,-340.52C227.27,-360.5 230.01,-376.79 235.69,-376.79 240.34,-376.79 243.02,-365.83 243.74,-350.86"/>
<polygon fill="black" stroke="black" points="247.24,-350.59 243.93,-340.52 240.25,-350.46 247.24,-350.59"/>
<text text-anchor="middle" x="235.69" y="-380.59" font-family="Times,serif" font-size="14.00">g2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge11" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M223.78,-339.74C221.86,-368.62 225.82,-394.79 235.69,-394.79 244.39,-394.79 248.5,-374.39 248.02,-349.75"/>
<polygon fill="black" stroke="black" points="251.52,-349.58 247.59,-339.74 244.53,-349.89 251.52,-349.58"/>
<text text-anchor="middle" x="235.69" y="-398.59" font-family="Times,serif" font-size="14.00">h2,2</text>
</g>
<!-- n2&%2345;&gt;n2 -->
<g id="edge14" class="edge">
<title>n2&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M220.8,-338.78C216.28,-376.07 221.25,-412.79 235.69,-412.79 248.83,-412.79 254.12,-382.37 251.56,-348.79"/>
<polygon fill="black" stroke="black" points="255.04,-348.39 250.57,-338.78 248.07,-349.07 255.04,-348.39"/>
<text text-anchor="middle" x="235.69" y="-416.59" font-family="Times,serif" font-size="14.00">h2,2</text>
</g>
<!-- n3 -->
<g id="node3" class="node">
<title>n3</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="55.9" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="55.9" y="-52.2" font-family="Times,serif" font-size="14.00">X3[α3:β3]</text>
</g>
<!-- n3&%2345;&gt;n2 -->
<g id="edge6" class="edge">
<title>n3&%2345;&gt;n2</title>
<path fill="none" stroke="black" d="M85.66,-103.59C98.48,-123.9 114.2,-147.55 129.79,-167.9 148.12,-191.81 170.15,-216.86 189.29,-237.62"/>
<polygon fill="black" stroke="black" points="186.83,-240.12 196.19,-245.07 191.96,-235.36 186.83,-240.12"/>
<text text-anchor="middle" x="145.79" y="-207.7" font-family="Times,serif" font-size="14.00">g3,2</text>
</g>
<!-- n3&%2345;&gt;n2 -->
<g id="edge15" class="edge">
<title>n3&%2345;&gt;n2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M101.49,-88.66C121.72,-105.1 144.84,-126.32 161.79,-148.9 173.01,-163.84 171.22,-170.29 179.79,-186.9 186.69,-200.27 194.43,-214.49 201.86,-227.83"/>
<polygon fill="black" stroke="black" points="199,-229.89 206.94,-236.9 205.11,-226.46 199,-229.89"/>
<text text-anchor="middle" x="145.79" y="-152.7" font-family="Times,serif" font-size="14.00">h3,2</text>
</g>
<!-- n3&%2345;&gt;n3 -->
<g id="edge4" class="edge">
<title>n3&%2345;&gt;n3</title>
<path fill="none" stroke="black" d="M51.98,-111.96C52.46,-122.42 53.77,-129.79 55.9,-129.79 57.22,-129.79 58.23,-126.91 58.92,-122.2"/>
<polygon fill="black" stroke="black" points="62.43,-122.23 59.81,-111.96 55.46,-121.62 62.43,-122.23"/>
<text text-anchor="middle" x="55.9" y="-133.59" font-family="Times,serif" font-size="14.00">g3,3</text>
</g>
<!-- n3&%2345;&gt;n3 -->
<g id="edge7" class="edge">
<title>n3&%2345;&gt;n3</title>
<path fill="none" stroke="black" d="M47.65,-111.52C47.48,-131.5 50.22,-147.79 55.9,-147.79 60.55,-147.79 63.23,-136.83 63.95,-121.86"/>
<polygon fill="black" stroke="black" points="67.45,-121.59 64.14,-111.52 60.46,-121.46 67.45,-121.59"/>
<text text-anchor="middle" x="55.9" y="-151.59" font-family="Times,serif" font-size="14.00">g3,3</text>
</g>
<!-- n3&%2345;&gt;n3 -->
<g id="edge13" class="edge">
<title>n3&%2345;&gt;n3</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M43.99,-110.74C42.07,-139.62 46.03,-165.79 55.9,-165.79 64.6,-165.79 68.71,-145.39 68.23,-120.75"/>
<polygon fill="black" stroke="black" points="71.73,-120.58 67.8,-110.74 64.74,-120.89 71.73,-120.58"/>
<text text-anchor="middle" x="55.9" y="-169.59" font-family="Times,serif" font-size="14.00">h3,3</text>
</g>
<!-- n3&%2345;&gt;n3 -->
<g id="edge16" class="edge">
<title>n3&%2345;&gt;n3</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M41.01,-109.78C36.49,-147.07 41.46,-183.79 55.9,-183.79 69.04,-183.79 74.33,-153.37 71.77,-119.79"/>
<polygon fill="black" stroke="black" points="75.25,-119.39 70.78,-109.78 68.28,-120.07 75.25,-119.39"/>
<text text-anchor="middle" x="55.9" y="-187.59" font-family="Times,serif" font-size="14.00">h3,3</text>
</g>
<!-- n4 -->
<g id="node4" class="node">
<title>n4</title>
<ellipse fill="%236c9ac3" stroke="%236c9ac3" cx="235.69" cy="-55.9" rx="55.79" ry="55.79"/>
<text text-anchor="middle" x="235.69" y="-52.2" font-family="Times,serif" font-size="14.00">X4[α4:β4]</text>
</g>
<!-- n3&%2345;&gt;n4 -->
<g id="edge9" class="edge">
<title>n3&%2345;&gt;n4</title>
<path fill="none" stroke="black" d="M112.17,-55.9C130.41,-55.9 150.85,-55.9 169.74,-55.9"/>
<polygon fill="black" stroke="black" points="169.75,-59.4 179.75,-55.9 169.75,-52.4 169.75,-59.4"/>
<text text-anchor="middle" x="145.79" y="-59.7" font-family="Times,serif" font-size="14.00">g3,4</text>
</g>
<!-- n3&%2345;&gt;n4 -->
<g id="edge18" class="edge">
<title>n3&%2345;&gt;n4</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M109.93,-40.4C116.57,-38.96 123.3,-37.73 129.79,-36.9 143.53,-35.13 158.2,-36.03 172.08,-38.17"/>
<polygon fill="black" stroke="black" points="171.57,-41.63 182.03,-39.93 172.79,-34.74 171.57,-41.63"/>
<text text-anchor="middle" x="145.79" y="-40.7" font-family="Times,serif" font-size="14.00">h3,4</text>
</g>
<!-- n4&%2345;&gt;n4 -->
<g id="edge8" class="edge">
<title>n4&%2345;&gt;n4</title>
<path fill="none" stroke="black" d="M227.8,-111.32C228.72,-122.12 231.35,-129.79 235.69,-129.79 238.47,-129.79 240.54,-126.64 241.92,-121.54"/>
<polygon fill="black" stroke="black" points="245.43,-121.75 243.57,-111.32 238.52,-120.64 245.43,-121.75"/>
<text text-anchor="middle" x="235.69" y="-133.59" font-family="Times,serif" font-size="14.00">g4,4</text>
</g>
<!-- n4&%2345;&gt;n4 -->
<g id="edge17" class="edge">
<title>n4&%2345;&gt;n4</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M219.25,-109.7C218.52,-130.5 224,-147.79 235.69,-147.79 245.36,-147.79 250.78,-135.93 251.95,-120.04"/>
<polygon fill="black" stroke="black" points="255.45,-119.76 252.12,-109.7 248.45,-119.64 255.45,-119.76"/>
<text text-anchor="middle" x="235.69" y="-151.59" font-family="Times,serif" font-size="14.00">h4,4</text>
</g>
</g>
</svg>
'/><p>Notice that this way of composition leads to duplicated arrows at the places where you glue the models. The dynamics function will do the math to multiply coefficients and add the exponents or you could fix with this with ACSet rewriting using AlgebraicRewriting.jl By specifying a pattern of duplicate edges and a rewrite rule that that does the appropriate math on the model parameters associated with those interactions.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../literate_example/">« S-System Module Demo</a><a class="docs-footer-nextpage" href="../pullbacks/">Stratification »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 19 July 2023 14:36">Wednesday 19 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
